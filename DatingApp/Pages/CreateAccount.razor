@page "/create-account"
@using DatingApp.Services
@inject IDatingAppService DatingAppService

<h3>Create Account</h3>

<div>
    <label for="username">Username:</label>
    <input type="text" id="username" @bind="@Username" />
</div>
<div>
    <label for="password">Password:</label>
    <input type="password" id="password" @bind="@Password" />
</div>
<button @onclick="CreateAccountAsync">Create Account</button>

@code {
    private string Username { get; set; }
    private string Password { get; set; }

    private async Task CreateAccountAsync()
    {
        string hashedPassword = BCrypt.Net.BCrypt.HashPassword(Password); // Use your hashing logic

        bool success = await DatingAppService.CreateAccountAsync(Username, hashedPassword);

        if (success)
        {
            // Account created successfully, navigate to the next page
            // NavigationManager.NavigateTo("/create-profile");
            Console.WriteLine("success");
        }
        else
        {
            // Account creation failed
            // Handle error
        }
    }
}
